% -----------------------------------------------------------------------------
% Latex Template for Wuhan University Thesis
%
% Ack to Huang Zhenghua (http://aff.whu.edu.cn/huangzh/)
%
% Modified by iamywang
% Date: Jan 29, 2024
% Updated: Apr 13, 2024
% -----------------------------------------------------------------------------

\documentclass[AutoFakeBold=2]{WHUPhd}
\usepackage{gbt7714}
\usepackage{listings}
\usepackage{multirow}
\usepackage{setspace}
\usepackage{titletoc}
\usepackage{pdfpages}

\hypersetup{hidelinks}

\lstset{
language=C++,
showstringspaces=false,
basicstyle=\small\ttfamily,
rulesepcolor=\color{gray},
breaklines=true,
keywordstyle=\color{purple}\bfseries,
commentstyle=\color{gray!80!black},
stringstyle=\color{blue!80!black},
frame=single,
flexiblecolumns=true,
lineskip={-1pt}
}

\begin{document}

% 封面表头信息
\fenleihao{TP309}
\miji{}
\UDC{}
\bianhao{10486}

% 封面内容
\title{安全计算机体系结构关键技术研究}
\author{张\hfill 三\hfill 三}
\Cstudentid{2\hfill 0\hfill 2\hfill 3\hfill 1\hfill 0\hfill 0\hfill 0\hfill 0\hfill 0\hfill 0\hfill 0\hfill 0}
\Csupervisor{李\hfill 四\hfill \hfill 教\hfill 授}
\Cmajor{网\hfill 络\hfill 空\hfill 间\hfill 安\hfill 全}
\Cspeciality{信\hfill 息\hfill 安\hfill 全}
\date{二〇二四年四月}

\Etitle{Research on Key Techniques for Security Computer Architecture}
\Eauthor{ZHANG San}
\Esupervisor{Prof.~LI Si}
\Eschoolname{School of Cyber Science and Engineering}
\Edate{Apr 2024}

\pdfbookmark[0]{封面}{title}
\maketitle

% 英文封面
\include{includes/英文封面}

% 创新点
\include{includes/创新点}

% 目录页面样式设置为含有页眉
\pagenumbering{Roman}
\pagestyle{fancy}
\fancyfancy

% 目录页面样式设置为不含有页眉
% \pagenumbering{Roman}
% \pagestyle{oldplain}

% 目录样式
\titlecontents{chapter}[0em]{\bfseries}{\contentspush{\thecontentslabel \quad}}{}{\titlerule*[4pt]{.}\contentspage}
\titlecontents{section}[1em]{}{\contentspush{\thecontentslabel \quad}}{}{\titlerule*[4pt]{.}\contentspage}
\titlecontents{subsection}[2.5em]{}{\contentspush{\thecontentslabel \quad}}{}{\titlerule*[4pt]{.}\contentspage}
\makeatletter
\def\@dotsep{0.5}
\makeatother

% 目录
\pdfbookmark[0]{目录}{toc}
\begin{spacing}{1.39}
\tableofcontents
\end{spacing}
\newpage

% 插图索引
\renewcommand*{\addvspace}[1]{}
\let\oldnumberline\numberline
\renewcommand{\numberline}{\figurename~\oldnumberline}
\makeatletter
\renewcommand*\l@figure{\@dottedtocline{1}{0em}{2.5em}}
\makeatother
\begin{spacing}{1.39}
\listoffigures
\end{spacing}
\newpage

% 表格索引
\renewcommand{\numberline}{\tablename~\oldnumberline}
\makeatletter
\renewcommand*\l@table{\@dottedtocline{1}{0em}{2.5em}}
\makeatother
\begin{spacing}{1.39}
\listoftables
\end{spacing}

% 中英文缩略语对照表
\include{includes/中英文缩略语对照表}

% 摘要
\include{includes/中英文摘要}

% 正文样式
\mainmatter
\renewcommand{\baselinestretch}{1.39}
\renewcommand{\arraystretch}{1.39}
\baselineskip=20pt
\pagestyle{fancy}
\fancyfancy

% 正文
\include{chapters/chapter1}
\include{chapters/chapter2}
\include{chapters/chapter3}
\include{chapters/chapter4}
\include{chapters/chapter5}
\include{chapters/chapter6}

% 参考文献
\phantomsection
\addcontentsline{toc}{chapter}{参考文献}
\renewcommand{\bibfont}{\zihao{5}}
\setlength{\bibsep}{0pt}
\bibliographystyle{gbt7714-numerical}
\bibliography{bibs/ref1}

% 科研成果和致谢
\backmatter
\include{includes/科研成果}
\include{includes/致谢}

\end{document}
